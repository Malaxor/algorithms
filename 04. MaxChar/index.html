<!DOCTYPE html>
<html>
<head>
	<title>MaxChar</title>
</head>	

<body>
<script type="text/javascript">

// Solution O(n)
//=====================================================
function maxChar(str) {
	const charMap = {};
   const charObj = {
      characters: [],
      instances: 0
	};
	// remove all non alphanumeric (including _ and spaces) characters and convert to lower case
	str = str.replace(/[\W_]/g, '').toLowerCase();

	for(let char of str) {
		charMap[char] = ++charMap[char] || 1;
	}
	for(let key in charMap) {
		if(charMap[key] >= charObj.instances) {
			charObj.instances = charMap[key];
			charObj.characters.push(key);
		}
	}
	return charObj;
}
console.log(maxChar('philip'));

</script>
</body>
</html>