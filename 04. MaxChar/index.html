<!DOCTYPE html>
<html>
<head>
	<title>MaxChar</title>
</head>	

<body>
<script type="text/javascript">

// Solution O(n)
function maxChar(str) {
	const charMap = {};
	const charObj = {};
	// remove all non alphanumeric (including _ and spaces) characters and convert to lower case
	str = str.replace(/[\W_]/g, '').toLowerCase();

	for(let char of str) {
		charMap[char] = ++charMap[char] || 1;
	}
	const max = Math.max(...Object.values(charMap));
	const chars = Object.keys(charMap).filter(key => charMap[key] === max);

	charObj.char = chars;
	charObj.eachCharMax = max;
	return charObj;
}
console.log(maxChar('philip'));

</script>
</body>
</html>